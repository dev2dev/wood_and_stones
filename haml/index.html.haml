// (c) 2010 Reg Braithwaite. All rights to the entirety of the program and its parts are reserved with 
// the exception of specific files otherwise licensed. Other licenses apply only to the files where
// they appear.

!!!Strict
%html{html_attrs('en').merge(:manifest=>"cache.manifest")}
  %head
  
    %title Wood and Stones
  
    %meta{:name=>"apple-mobile-web-app-status-bar-style", :content=>"black"}/
    %meta{:name=>"viewport", :content=>"user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"}/
      
    // their stuff
    
    %script{:src=>"j/jquery.1.4.2.js", :type=>"text/javascript", :charset=>"utf-8"}
    %script{:src=>"j/jquery-ui-1.8.2.resizeable.min.js", :type=>"text/javascript", :charset=>"utf-8"}
    %script{:src=>"j/jquery.timers-1.2.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/jqtouch.customized.js", :type=>"text/javascript", :charset=>"utf-8"}
    %script{:src=>"j/fold.js", :type=>"text/javascript", :charset=>"utf-8"}
    
    %script{:src=>"j/md5.js", :type=>"text/javascript", :charset=>"utf-8"}
    
    %script{:src=>"j/to-function.js", :type=>"text/javascript", :charset=>"utf-8"}
    %script{:src=>"j/functional.js", :type=>"text/javascript", :charset=>"utf-8"}
    
    // my open stuff
    
    %script{:src=>"j/igesture.jquery.mobile_safari.js", :type=>"text/javascript", :charset=>"utf-8"}
    %script{:src=>"j/jquery.combinators.js", :type=>"text/javascript", :charset=>"utf-8"}
    %script{:src=>"j/dragscrollable.js", :type=>"text/javascript", :charset=>"utf-8"}
    
    // my proprietary stuff
    
    %script{:src=>"j/go.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/adjacency.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/referee.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/start.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/ui.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/more_ui.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/history.js", :type=>"text/javascript", :charset=>"utf-8"} 
    %script{:src=>"j/text.js", :type=>"text/javascript", :charset=>"utf-8"} 
    
    %style{:type=>"text/css", :media=>"screen"} @import "css/jqtouch.min.css";
    %style{:type=>"text/css", :media=>"screen"} @import "css/jqtouch.ipad.customized.css";
    %style{:type=>"text/css", :media=>"screen"} @import "css/application.css";
    %style{:type=>"text/css", :media=>"screen"} @import "css/board.ipad.css";
    %style{:type=>"text/css", :media=>"screen"} @import "css/bubbles.css";
    %style{:type=>"text/css", :media=>"screen"} @import "css/dark-hive/jquery-ui-1.8.2.custom.css";
    %style{:type=>"text/css", :media=>"screen"} @import "css/fold/fold.css";
    
    %style{:id=>'toolbar_titles'}
    %style{:id=>'bubbles'}
    
    :javascript
      // (c) 2010 Reg Braithwaite. All rights to the entirety of the program and its parts are reserved with 
      // the exception of specific files otherwise licensed. Other licenses apply only to the files where
      // they appear.
      var jQT = new $.jQTouch({
          icon: 'i/black_white.png',
          statusBar: 'black-translucent',
          touchSelector: '.board .intersection, .board, .touch'
      });
      $(function () {
          jQT.addAnimation({
              name: 'slideback',
              selector: '.slideback'
          });
      });
  %body
      
    %div#useful_stuff
      .ajax_load
        %img{:src=>'i/ajax-loader-black.gif',:height=>66,:width=>66}
        
    #new.current
      .toolbar 
        %h1 Start
      %form#form.new_game
        %ul.edit.rounded
          %li.email
            %input#black{:name=>'black', :placeholder=>"Black's name", :type=>'text'}/
          %li.email
            %input#white{:name=>'white', :placeholder=>"White's name", :type=>'text'}/
          %li.rules
            .label Game:
            %select#rules{:name=>'rules'}
          %li.size
            .label Size: 
            %select#dimension{:name=>'dimension'}
          %li.setup
            .label Setup:
            %select#setup{:name=>'setup'}
        %a.whiteButton#start{:style=>"margin:0 10px;color:rgba(0,0,0,.9)", :href=>"#"} Play
        
    #info
      .toolbar 
        %h1 Game Info
      %h2 Players
      %ul.rounded.players
        %li.black
        %li.white
      %h2 Setup
      %ul.rounded.game
        %li.setup
      %h2 Captures
      %ul.rounded
        %li
          Black has captured
          %span.captured_whites
        %li
          White has captured
          %span.captured_blacks
      %h2 SGF
      %ul.rounded
        %li.sgf Some SGF I'm demonstrating
      .behindthefold 
        %pre
          The Art of Poetry

          To gaze at a river made of time and water
          And remember Time is another river.
          To know we stray like a river
          and our faces vanish like water.

          To feel that waking is another dream
          that dreams of not dreaming and that the death
          we fear in our bones is the death
          that every night we call a dream.

          To see in every day and year a symbol
          of all the days of man and his years,
          and convert the outrage of the years
          into a music, a sound, and a symbol.

          To see in death a dream, in the sunset
          a golden sadness--such is poetry,
          humble and immortal, poetry,
          returning, like dawn and the sunset.

          Sometimes at evening there's a face
          that sees us from the deeps of a mirror.
          Art must be that sort of mirror,
          disclosing to each of us his face.

          They say Ulysses, wearied of wonders,
          wept with love on seeing Ithaca,
          humble and green. Art is that Ithaca,
          a green eternity, not wonders.

          Art is endless like a river flowing,
          passing, yet remaining, a mirror to the same
          inconstant Heraclitus, who is the same
          and yet another, like the river flowing. 

          Jorge Luis Borges 
          
    .move.history.this
      .toolbar 
        %h1
          %span.playing
      .board.zoomout.scrub
        .intersections
          
    .move.history.that
      .toolbar 
        %h1
      .board.zoomout.scrub
        .intersections
    
    .move.play
      .head
        .toolbar
          %h1
      .board.zoomout.scrub.pass.play
        .head 
          .guest.black.captured
        .intersections
        .foot
          .guest.black.captured
          .host.white.captured
      .foot
        .toolbar
          %h1