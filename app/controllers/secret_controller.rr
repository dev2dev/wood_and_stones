class SecretController < ApplicationController
  
  def go
    Secret.find_by_secret(params[:secret]).andand do
      self.current_user = its.user
      redirect_to :controller => its.target.class.name.underscore,
                  :action => :show, # TODO: embed the action in the its or change the target to a redirect hash
                  :id => its.target.id
    end or render :status => 404 # TODO security around attacks, redirect to home
  end
  
end